<div class="pending-request-container">
  <!-- Filters -->
  <div class="filters-section">
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Guest House</mat-label>
      <mat-select [formControl]="guestHouseFilter">
        <mat-option value="">--Select GuestHouse--</mat-option>
        <mat-option *ngFor="let guestHouse of guestHouses" [value]="guestHouse">
          {{ guestHouse }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Room</mat-label>
      <mat-select [formControl]="roomFilter">
        <mat-option value="">--Select Room--</mat-option>
        <mat-option *ngFor="let room of rooms" [value]="room">
          {{ room }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Bed</mat-label>
      <mat-select [formControl]="bedFilter">
        <mat-option value="">--Select Bed--</mat-option>
        <mat-option *ngFor="let bed of beds" [value]="bed">
          {{ bed }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Select Employee</mat-label>
      <input matInput [formControl]="employeeFilter" placeholder="Select Employee">
      <button mat-icon-button matSuffix>
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Check-In Start</mat-label>
      <input matInput [matDatepicker]="pickerStart" [formControl]="checkInStart" placeholder="Check-In Start">
      <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
      <mat-datepicker #pickerStart></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Check-In End</mat-label>
      <input matInput [matDatepicker]="pickerEnd" [formControl]="checkInEnd" placeholder="Check-In End">
      <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
      <mat-datepicker #pickerEnd></mat-datepicker>
    </mat-form-field>

    <!-- Filter and Reset Buttons -->
    <div class="filter-actions">
      <button mat-raised-button color="primary" (click)="applyFilters()">Filter</button>
      <button mat-stroked-button (click)="resetFilters()">Reset</button>
    </div>
  </div>
  
  <!-- Table -->
  <div class="table-container mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="mat-table">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Sr. No. </th>
        <td mat-cell *matCellDef="let row"> {{ row.id }} </td>
      </ng-container>
      <ng-container matColumnDef="userFullName">
        <th mat-header-cell *matHeaderCellDef> Employee Name </th>
        <td mat-cell *matCellDef="let row"> {{ row.userFullName }} </td>
      </ng-container>
      <ng-container matColumnDef="guestHouseName">
        <th mat-header-cell *matHeaderCellDef> Guest House </th>
        <td mat-cell *matCellDef="let row"> {{ row.guestHouseName }} </td>
      </ng-container>
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef> Check-In Date </th>
        <td mat-cell *matCellDef="let row"> {{ row.startDate | date:'shortDate' }} </td>
      </ng-container>
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> Check-Out Date </th>
        <td mat-cell *matCellDef="let row"> {{ row.endDate | date:'shortDate' }} </td>
      </ng-container>
      <ng-container matColumnDef="roomName">
        <th mat-header-cell *matHeaderCellDef> Room No. </th>
        <td mat-cell *matCellDef="let row"> {{ row.roomName }} </td>
      </ng-container>
      <ng-container matColumnDef="bedNumber">
        <th mat-header-cell *matHeaderCellDef> Bed No. </th>
        <td mat-cell *matCellDef="let row"> {{ row.bedNumber }} </td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let row"> {{ row.status }} </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let row">
          <button mat-icon-button color="primary" (click)="openApproveForm(row)" matTooltip="Approve">
            <mat-icon>check_circle</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="openRejectForm(row)" matTooltip="Reject">
            <mat-icon>cancel</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" [attr.colspan]="displayedColumns.length">No records Found!</td>
      </tr>
    </table>
  </div>
</div>